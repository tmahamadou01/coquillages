function fixedMenu(){var a=menu.getBoundingClientRect();a.top<-20?document.getElementById("main-menu").classList.add("fixed-menu"):document.getElementById("main-menu").classList.remove("fixed-menu")}function tilesPerRow(){wrapperWidth=document.querySelector("#tiles-wrapper").offsetWidth,tileWidth=document.querySelector(".visible").offsetWidth,tileHeight=document.querySelector(".visible").offsetHeight,tilesPerLine=Math.floor(wrapperWidth/tileWidth)}function tilesWrapperHeight(a){tilesPerRow(),countVisible=$(".tile").not(".hidden").size(),totalHeight=Math.ceil(countVisible/tilesPerLine)*tileHeight,a&&(totalHeight+=detailsHeight),$("#tiles-wrapper").css("height",totalHeight)}function matrix(){for(tileNodesVisible=document.querySelectorAll(".tile.visible"),i=0;i<tileNodesVisible.length;i++)setRow=Math.floor(i/tilesPerLine),setCol=i%tilesPerLine,tilesMatrix.push({row:setRow,col:setCol})}function moveTiles(a){void 0===a?$(" .tile").removeClass("hidden").addClass("visible").fadeTo(750,1):($("#tiles-wrapper ."+a).addClass("visible").removeClass("hidden").fadeTo(750,1),$(" .tile").not("."+a).addClass("hidden").removeClass("visible").fadeTo(750,0));var b=0;for(i=0;i<tileNodes.length;i++)if($(tileNodes[i]).hasClass("hidden"))b+=1;else{var c=100*(tilesMatrix[i-b].row-tilesMatrix[i].row),d=100*(tilesMatrix[i-b].col-tilesMatrix[i].col);$(tileNodes[i]).css("transform","translate("+d+"%,"+c+"%)")}tilesWrapperHeight()}function hideDetails(a){$(".details").removeClass("displayed"),setTimeout(function(){$(a).css("margin-bottom",0),tilesWrapperHeight()},750)}function showDetails(a){}var menu=document.getElementById("menu-wrapper"),wrapperWidth,tileWidth,tileHeight,tilesPerLine,countVisible,totalHeight,tileNodes=document.querySelectorAll(".tile.visible"),totalTiles=tileNodes.length,detailsHeight,tilesMatrix=[],tilesVisibleMatrix=[],setCol,setRow;document.addEventListener("DOMContentLoaded",function(){for(fixedMenu(),tilesWrapperHeight(),i=0;i<tileNodes.length;i++)setRow=Math.floor(i/tilesPerLine),setCol=i%tilesPerLine,tilesMatrix.push({row:setRow,col:setCol});window.addEventListener("scroll",function(){fixedMenu()}),document.getElementById("graphisme").addEventListener("click",function(){moveTiles("print")}),document.getElementById("web").addEventListener("click",function(){moveTiles("web")}),document.getElementById("video").addEventListener("click",function(){moveTiles("video")}),document.getElementById("all").addEventListener("click",function(){moveTiles()}),$("#filters button").click(function(){$(this).not("selected")&&($("#filters button").removeClass("selected"),$(this).addClass("selected"))});var a,b,c,d,e;detailsHeight=document.querySelector(".details").offsetHeight;var f=tileWidth*tilesPerLine;$(".details").css("width",f),$(".tile").click(function(){$("#all").hasClass("selected")&&($(this).find(".details").hasClass("displayed")?hideDetails(this):$(".tile").find(".displayed").length>0?(b=$(this).index(),c=$(".displayed").parent().index(),tilesMatrix[b].row!=tilesMatrix[c].row?(d=$(".tile").find(".displayed"),$(d).removeClass("displayed"),a=this,setTimeout(function(){$(d).parent().css("margin-bottom",0),tilesWrapperHeight(),setTimeout(function(){detailsHeight=a.querySelector(".details").offsetHeight,$(a).css("margin-bottom",detailsHeight),e=$(a).index(),e=-tilesMatrix[e].col*tileWidth,$(a).find(".details").css("top",tileHeight-10).css("margin-left",e-10),tilesWrapperHeight(!0),setTimeout(function(){$(a).find(".details").addClass("displayed")},750)},750)},750)):(d=$(".tile").find(".displayed"),displayedHeight=$(".tile").find(".displayed").height(),$(d).removeClass("displayed"),$(this).find(".details").height()>=displayedHeight?(detailsHeight=this.querySelector(".details").offsetHeight,$(this).css("margin-bottom",detailsHeight),e=$(this).index(),e=-tilesMatrix[e].col*tileWidth,$(this).find(".details").css("top",tileHeight-10).css("margin-left",e-10),tilesWrapperHeight(!0),a=this,setTimeout(function(){$(a).find(".details").addClass("displayed"),$(d).parent().css("margin-bottom",0)},750)):(detailsHeight=this.querySelector(".details").offsetHeight,$(d).parent().css("margin-bottom",0),$(this).css("margin-bottom",detailsHeight),e=$(this).index(),e=-tilesMatrix[e].col*tileWidth,$(this).find(".details").css("top",tileHeight-10).css("margin-left",e-10),tilesWrapperHeight(!0),a=this,setTimeout(function(){$(a).find(".details").addClass("displayed")},750)))):(detailsHeight=this.querySelector(".details").offsetHeight,$(this).css("margin-bottom",detailsHeight),e=$(this).index(),e=-tilesMatrix[e].col*tileWidth,$(this).find(".details").css("top",tileHeight-10).css("margin-left",e-10),tilesWrapperHeight(!0),a=this,setTimeout(function(){$(a).find(".details").addClass("displayed")},750)))})}),$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length){var b=50;return"fixed"==$("#menu-wrapper").css("position")&&(b=$("#menu-wrapper").height()),$("html,body").animate({scrollTop:a.offset().top-b},1e3),!1}}});